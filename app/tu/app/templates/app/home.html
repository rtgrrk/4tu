{% extends "base.html" %}
{% load static %}
{% block content %}


<div class="album py-5 bg-light">
    <div class="container">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
            {% for product in product_list %}
            <div class="col">
                <div class="card shadow-sm">
                    <div class="card-img-top">
                        <img src="/media/{{product.image}}" alt="Card image cap">
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">{{ product.title }}</h5>
                        <p class="card-text">{{product.description}}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="btn-group">
                                <a class="btn btn-sm btn-outline-secondary" href="{{product.get_absolute_url}}">View</a>
                                <a href="#{{product.name}}"
                                    class="btn btn-sm btn-outline-secondary cd-add-to-cart js-cd-add-to-cart"
                                    data-price="{{product.price}}" data-title="{{product.title}}"
                                    data-name="{{product.name}}" data-image="/media/{{product.image}}">Add
                                    To Cart</a>
                            </div>
                            <h6 class="text-muted">&euro;{{product.price}}</h6>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>


<div class="cd-cart cd-cart--empty js-cd-cart">
    <a href="#{{product.name}}" class="cd-cart__trigger text-replace">
        Cart
        <ul class="cd-cart__count">
            <!-- cart items count -->
            <li>0</li>
            <li>0</li>
        </ul> <!-- .cd-cart__count -->
    </a>

    <div class="cd-cart__content">
        <div class="cd-cart__layout">
            <header class="cd-cart__header">
                <h2>Cart</h2>
                <span class="cd-cart__undo">Item removed. <a href="#{{product.name}}">Undo</a></span>
            </header>

            <div class="cd-cart__body">
                <ul>
                    <!-- products added to the cart will be inserted here using JavaScript -->
                </ul>
            </div>

            <footer class="cd-cart__footer">
                <a href="#{{product.name}}" class="cd-cart__checkout">
                    <em>Checkout - &euro;<span>0</span>
                        <svg class="icon icon--sm" viewBox="0 0 24 24">
                            <g fill="none" stroke="currentColor">
                                <line stroke-width="2" stroke-linecap="round" stroke-linejoin="round" x1="3" y1="12"
                                    x2="21" y2="12" />
                                <polyline stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                    points="15,6 21,12 15,18 " />
                            </g>
                        </svg>
                    </em>
                </a>
            </footer>
        </div>
    </div> <!-- .cd-cart__content -->
</div> <!-- cd-cart -->
<script src="{% static 'cart/js/util.js' %}"></script> <!-- util functions included in the CodyHouse framework -->
<script src="{% static 'cart/js/main.js' %}"></script>

{% endblock %}